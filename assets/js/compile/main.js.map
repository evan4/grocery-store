{"version":3,"sources":["../es6/main.js"],"names":["jQuery","document","ready","$","click","event","preventDefault","animate","scrollTop","hash","offset","top","navoffeset","window","scroll","scrollpos","addClass","removeClass","hover","stop","slideDown","toggleClass","slideUp","UItoTop","easingType","flexslider","animation","start","slider","okzoom","width","height","border","shadow","on","e","id","data","ajax","url","done","res","alert","showCart","fail","error","console","log","$modal","find","cart","html","modal","$sum","text","$cartSum"],"mappings":"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","sourcesContent":["jQuery(document).ready(function($) {\n\n    $(\".scroll\").click(function(event){\n        event.preventDefault();\n        $('html,body').animate({scrollTop:$(this.hash).offset().top},1000);\n    });\n\n    const navoffeset=$(\".agileits_header\").offset().top;\n    $(window).scroll(function(){\n        var scrollpos=$(window).scrollTop();\n        if(scrollpos >=navoffeset){\n            $(\".agileits_header\").addClass(\"fixed\");\n        }else{\n            $(\".agileits_header\").removeClass(\"fixed\");\n        }\n    });\n\n    $(\".dropdown\").hover(\n        function() {\n            $('.dropdown-menu', this).stop( true, true ).slideDown(\"fast\");\n            $(this).toggleClass('open');\n        },\n        function() {\n            $('.dropdown-menu', this).stop( true, true ).slideUp(\"fast\");\n            $(this).toggleClass('open');\n        }\n    );\n\n    $().UItoTop({ easingType: 'easeOutQuart' });\n\n    $('.flexslider').flexslider({\n        animation: \"slide\",\n        start: function(slider){\n            $('body').removeClass('loading');\n        }\n    });\n\n    $('#example').okzoom({\n        width: 150,\n        height: 150,\n        border: \"1px solid black\",\n        shadow: \"0 0 5px #000\"\n    });\n\n    $('.add-to-cart').on('click', function(e) {\n        e.preventDefault();\n        const id = +$(this).data('id');\n        \n        if(id > 0) {\n           const data = {\n                id\n            };\n\n            $.ajax({\n                url: 'cart/add',\n                data\n            })\n            .done(function (res) {\n                if(!res) alert('Произошла ошибка. Попробуйте еще раз');\n\n                showCart(res);\n            })\n            .fail(function (error) {\n                let res = {\n                    'error': 'Произошла ошибка. Попробуйте еще раз'\n                }\n                console.log(res);\n            });\n        }\n    });\n\n    const $modal = $('#w0');\n    $modal.find('.modal-body').on('click', '.del-item', function () {\n        const id = +$(this).data('id');\n\n        if(id > 0) {\n            const data = {\n                 id\n             };\n \n             $.ajax({\n                 url: 'cart/remove-item',\n                 data\n             })\n             .done(function (res) {\n                 if(!res) alert('Произошла ошибка. Попробуйте еще раз');\n \n                 showCart(res);\n             })\n             .fail(function (error) {\n                 let res = {\n                     'error': 'Произошла ошибка. Попробуйте еще раз'\n                 }\n                 console.log(res);\n             });\n         }\n    })\n    \n    $('#clearCart').on('click', function (e) {\n        e.preventDefault();\n        $.ajax({\n            url: 'cart/clear-cart'\n        })\n        .done(function (res) {\n            showCart('')\n        })\n        .fail(function (error) {\n            let res = {\n                'error': 'Произошла ошибка. Попробуйте еще раз'\n            }\n            console.log(res);\n        });\n    });\n\n\n});\n\nfunction showCart(cart) {\n\n    const $modal = $('#w0');\n    $modal.find('.modal-body').html(cart);\n    if(cart){\n        $modal.modal();\n    }\n    \n    const $sum = $('#cart-sum').text();\n    $cartSum = $sum ? $sum : '$0';\n\n    $('.cart-sum').text($cartSum);\n}\n\n"],"file":"main.js"}